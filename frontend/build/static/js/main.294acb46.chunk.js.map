{"version":3,"sources":["JS/constant/Actions-types.js","JS/Actions/userActions.js","JS/constant/post.js","JS/Actions/postActions.js","Components/write/Write.js","Components/Auth/Login.js","Components/Auth/Register.js","Components/Route/AppNavBar.js","Components/header/Header.js","Components/post/Post.js","Components/posts/Posts.js","Components/Pages/Home.js","Components/Pages/Dashboard.js","Components/Routes/PrivateRoute.js","Components/singlePost/SinglePost.js","App.js","JS/Reducers/authReducer.js","JS/Reducers/postReducer.js","JS/Reducers/index.js","JS/store/store.js","index.js"],"names":["USER_LOADING","LOGIN_USER","REGISTER_USER","LOGOUT_USER","GET_AUTH_USER","AUTH_ERRORS","userLoading","dispatch","type","GET_POSTS_LOAD","GET_POSTS_SUCCESS","GET_POSTS_FAIL","GET_POST_LOAD","GET_POST_SUCCESS","GET_POST_FAIL","GET_POST_RESET","ADD_POST_LOAD","ADD_POST_SUCCESS","ADD_POST_FAIL","getPosts","a","axios","get","result","payload","data","console","dir","response","msg","deletePost","id","config","headers","localStorage","getItem","delete","then","catch","err","log","updatePost","post","put","addPost","FormData","res","errors","Array","isArray","forEach","alert","Write","useState","title","setTitle","desc","setDesc","file","setFile","user","useSelector","state","authReducer","useDispatch","handleSubmit","e","preventDefault","newPost","name","filename","Date","now","append","photo","style","color","className","src","URL","createObjectURL","alt","onSubmit","htmlFor","display","onChange","target","files","placeholder","autoFocus","value","to","Login","history","useHistory","email","setEmail","password","setPassword","formData","push","Register","setName","lastName","setLastName","AppNavBar","isAuth","onClick","marginRight","Header","Post","_id","createdAt","toDateString","Posts","posts","map","p","Home","postReducer","useEffect","Dashboard","PrivateRoute","Component","component","rest","SinglePost","match","params","toggle","setToggle","handleDelete","handleUpdate","App","getUser","exact","path","initialState","token","isLoading","removeItem","setItem","loading","error","productReducer","rootReducer","combineReducers","middleware","thunk","store","createStore","compose","applyMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.294acb46.chunk.js","sourcesContent":["export const USER_LOADING = \"USER_LOADING\";\r\nexport const LOGIN_USER = \"LOGIN_USER\";\r\nexport const REGISTER_USER = \"REGISTER_USER\";\r\nexport const LOGOUT_USER = \"LOGOUT_USER\";\r\nexport const GET_AUTH_USER = \"GET_AUTH_USER\";\r\nexport const AUTH_ERRORS = \"AUTH_ERRORS\";\r\n\r\n//Get users\r\nexport const GET_USER_LOAD = \"GET_USER_LOAD\";\r\nexport const GET_USER_SUCCESS = \"GET_USER_SUCCESS\";\r\nexport const GET_USER_FAIL = \"GET_USER_FAIL\";\r\n//Get user \r\nexport const GET_USER = \"GET_USER\";\r\nexport const GET_USER_RESET = \"GET_USER_RESET\";\r\n//Update user\r\nexport const EDIT_USER_LOAD = \"EDIT_USER_LOAD\";\r\nexport const EDIT_USER_SUCCESS = \"EDIT_USER_SUCCESS\";\r\nexport const EDIT_USER_FAIL = \"EDIT_USER_FAIL\";","import axios from \"axios\"\n\nimport {LOGIN_USER,USER_LOADING,LOGOUT_USER,REGISTER_USER,GET_AUTH_USER,AUTH_ERRORS,GET_USER_LOAD, \n        GET_USER_SUCCESS,GET_USER_FAIL,EDIT_USER_LOAD,EDIT_USER_SUCCESS,EDIT_USER_FAIL, \n        GET_USER }  from \"../constant/Actions-types\"\n\n\n//loading user\nexport const userLoading = ()=>(dispatch)=>{\n    dispatch({\n        type:USER_LOADING\n    })\n}\n//register user\nexport const registerUser = (formData) =>async(dispatch)=>{\n    dispatch(userLoading())\n    try {\n        const res = await axios.post('/api/auth/register',formData)\n        dispatch({\n            type:REGISTER_USER,\n            payload:res.data//{msg,user,token}\n        })\n    } catch (error) {\n        console.dir(error)\n        const {errors, msg} = error.response.data\n        if(Array.isArray(errors)){\n            errors.forEach(err => alert(err.msg))\n        }\n        if(msg){\n            return alert(msg)\n        }\n        dispatch({type: AUTH_ERRORS})\n    }\n}\n//login\nexport const loginUser = (formData) =>async(dispatch)=>{\n    dispatch(userLoading())\n    try {\n        const res = await axios.post('/api/auth/login',formData)\n        dispatch({\n            type:LOGIN_USER,\n            payload:res.data//{msg,user,token}\n        })\n    } catch (error) {\n        console.dir(error)  \n        const {errors,msg}= error.response.data\n        if(Array.isArray(errors)){\n            errors.forEach((err)=>alert(err.msg))\n        }\n        if(msg){\n            return alert(msg)\n        }\n        dispatch({type:AUTH_ERRORS})\n    }\n}\n\n//get auth user\nexport const getAuthUser = ()=>async(dispatch)=>{\n    dispatch(userLoading())\n   try {\n       //headers\n       const config ={\n           headers : {\n               'x-auth-token':localStorage.getItem('token')\n           }\n       }\n    const res = await axios.get('/api/auth/user',config)\n    dispatch({\n        type:GET_AUTH_USER,\n        payload:res.data // {user:req.user}\n    })\n   } catch (error) {\n    console.log(error)\n    dispatch({type:AUTH_ERRORS})\n   }\n}\n\n//Logout\nexport const logoutUser = () => (dispatch) => {\n    dispatch({\n        type:LOGOUT_USER\n    })\n}\n\n//Get all users\nexport const getUsers = () => async(dispatch) => {\n    dispatch({type: GET_USER_LOAD})\n    try {\n         //headers\n         const config = {\n            headers:{\n                'auth-token': localStorage.getItem('token')\n            }\n        }\n        let result = await axios.get(\"/api/users\", config)\n        dispatch({\n            type: GET_USER_SUCCESS, \n            payload: result.data.response\n        })\n    } catch (error) {\n        dispatch({type: GET_USER_FAIL})\n        console.dir(error)\n    }\n}\n// delete user\nexport const deleteUser = (id) => async(dispatch) => {\n      //headers\n      const config = {\n        headers:{\n            'auth-token': localStorage.getItem('token')\n        }\n    }\n    axios\n    .delete(`/api/users/${id}`, config)\n    .then((() => dispatch(getUsers())))\n    .catch(err => console.log(err))\n}\n//get user by id\nexport const getUser = (id) => async(dispatch) => {\n    dispatch({type: GET_USER_LOAD})\n    try {\n          //headers\n          const config = {\n            headers:{\n                'auth-token': localStorage.getItem('token')\n            }\n        }\n        let result = await axios.get(`/api/users/${id}`, config)\n        dispatch({\n            type: GET_USER,\n            payload: result.data.response\n        })\n    } catch (error) {\n        console.dir(error)\n        dispatch({type: GET_USER_FAIL})\n    }\n}\n// edit user\nexport const updateUser = (id, user) => async(dispatch) => {\n    dispatch({type: EDIT_USER_LOAD})\n    try {\n          //headers\n          const config = {\n            headers:{\n                'auth-token': localStorage.getItem('token')\n            }\n        }\n        let result = await axios.put(`/api/users/${id}`, user, config)\n        \n        dispatch({\n            type: EDIT_USER_SUCCESS,\n            payload: result.data\n        })\n      \n    } catch (error) {\n        console.dir(error)\n        dispatch({type: EDIT_USER_FAIL})\n    }    \n}","//Get all posts\r\nexport const GET_POSTS_LOAD = \"GET_POSTS_LOAD \";\r\nexport const GET_POSTS_SUCCESS = \"GET_POSTS_SUCCESS\";\r\nexport const GET_POSTS_FAIL = \"GET_POSTS_FAIL\";\r\n\r\n//Get post by id\r\nexport const GET_POST_LOAD = \"GET_POST_LOAD\";\r\nexport const GET_POST_SUCCESS = \"GET_POST_SUCCESS\";\r\nexport const GET_POST_FAIL = \"GET_POST_FAIL\";\r\nexport const GET_POST_RESET = \"GET_POST_RESET\";\r\n\r\n//add post\r\nexport const ADD_POST_LOAD = \"ADD_POST_LOAD\";\r\nexport const ADD_POST_SUCCESS = \"ADD_POST_SUCCESS\";\r\nexport const ADD_POST_FAIL = \"ADD_POST_FAIL\";\r\n//edit post\r\nexport const EDIT_POST_LOAD = \"EDIT_POST_LOAD\";\r\nexport const EDIT_POST_SUCCESS = \"EDIT_POST_SUCCESS\";\r\nexport const EDIT_POST_FAIL = \"EDIT_POST_FAIL\";","import { GET_POSTS_LOAD, GET_POSTS_SUCCESS, GET_POSTS_FAIL, ADD_POST_LOAD, ADD_POST_SUCCESS,\r\n     ADD_POST_FAIL, GET_POST_LOAD,GET_POST_SUCCESS, GET_POST_FAIL } from \"../constant/post\";\r\n\r\n    import axios from 'axios';\r\n\r\n\r\n    //Get all posts\r\n    export const getPosts = () => async(dispatch) => {\r\n        dispatch({type: GET_POSTS_LOAD})\r\n        try {\r\n             const result = await axios.get('/api/posts')\r\n            dispatch({\r\n                type: GET_POSTS_SUCCESS,\r\n                payload: result.data\r\n            })\r\n        } catch (error) {\r\n            console.dir(error)\r\n            dispatch({\r\n                type: GET_POSTS_FAIL,\r\n                payload: error.response.data.msg\r\n            })\r\n        }\r\n    }\r\n    \r\n    //Get post by id\r\n    export const getPost = (id) => async(dispatch) => {\r\n        dispatch({type: GET_POST_LOAD})\r\n        try {\r\n            let result = await axios.get(`/api/posts/${id}`)\r\n            dispatch({\r\n                type: GET_POST_SUCCESS,\r\n                payload: result.data\r\n            })\r\n        } catch (error) {\r\n            console.log(error)\r\n            dispatch({type: GET_POST_FAIL,\r\n            payload: error.response.data.msg})\r\n        }\r\n    }\r\n    \r\n    export const deletePost = (id) => async(dispatch) => {\r\n         //headers\r\n         const config = {\r\n            headers:{\r\n                'x-auth-token': localStorage.getItem('token')\r\n            }\r\n        }\r\n\r\n        axios\r\n        .delete(`/api/posts/${id}`, config)\r\n        .then((() => dispatch(getPosts())))\r\n        .catch(err => console.log(err))\r\n    }\r\n    \r\n    //Update post\r\n    export const updatePost = (id, post) => async(dispatch) => {\r\n        try {\r\n            //headers\r\n            const config = {\r\n                headers:{\r\n                    'x-auth-token': localStorage.getItem('token')\r\n                }\r\n            }\r\n            await axios.put(`/api/posts/${id}`, post, config)\r\n            dispatch(getPosts())\r\n        } catch (error) {\r\n            console.log(error)\r\n            dispatch({type: GET_POST_FAIL})\r\n        }\r\n    }\r\n    \r\n    //create post\r\n    export const addPost = (FormData) => async(dispatch) => {\r\n        dispatch({type: ADD_POST_LOAD})\r\n        try {\r\n            const res = await axios.post(`/api/posts`, FormData)\r\n            \r\n\r\n            dispatch({\r\n                type: ADD_POST_SUCCESS,\r\n                payload: res.data\r\n            })\r\n        } catch (error) {\r\n            console.dir(error)\r\n            const {errors, msg} = error.response.data\r\n            if(Array.isArray(errors)){\r\n                errors.forEach(err => alert(err.msg))\r\n            }\r\n            if(msg){\r\n                return alert(msg)\r\n            }\r\n            dispatch({type: ADD_POST_FAIL})\r\n        }\r\n    }","import { useState } from \"react\";\nimport \"./write.css\";\nimport axios from \"axios\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { addPost } from \"../../JS/Actions/postActions\";\nimport { Link } from 'react-router-dom'\nexport default function Write() {\n  const [title, setTitle] = useState(\"\");\n  const [desc, setDesc] = useState(\"\");\n  const [file, setFile] = useState(null);\n\n  const user = useSelector(state => state.authReducer.user)\nconst dispatch = useDispatch()\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const newPost = {\n      name: user.name,\n      title,\n      desc,\n    };\n    if (file) {\n      const data =new FormData();\n      const filename = Date.now() + file.name;\n      data.append(\"name\", filename);\n      data.append(\"file\", file);\n      newPost.photo = filename;\n      try {\n        await axios.post(\"/uploads\", data);\n      } catch (err) {}\n    }\n    \n    dispatch(addPost(newPost))\n   \n   };\n   if(!user === true){\n    return (<div>\n      <h1 style={{color:\"red\"}}><center> Create an account to create a post</center> </h1>\n      </div>\n      )\n}\n  return (\n    <div className=\"write\">\n  \n      {file && (\n        <img className=\"writeImg\" src={URL.createObjectURL(file)} alt=\"\" />\n      )}\n      <form className=\"writeForm\" onSubmit={handleSubmit} >\n        <div className=\"writeFormGroup\">\n          <label htmlFor=\"fileInput\">\n            <i className=\"writeIcon fas fa-plus\"></i>\n          </label>\n          <input\n            type=\"file\"\n            id=\"fileInput\"\n            style={{ display: \"none\" }}\n            onChange={(e) => setFile(e.target.files[0])}\n          />\n          <input\n            type=\"text\"\n            placeholder=\"Title\"\n            className=\"writeInput\"\n            autoFocus={true}\n            onChange={e=>setTitle(e.target.value)}\n          />\n        </div>\n\n        <div className=\"writeFormGroup\">\n          <textarea\n            placeholder=\"Tell your story...\"\n            type=\"text\"\n            className=\"writeInput writeText\"\n            onChange={e=>setDesc(e.target.value)}\n          ></textarea>\n        </div>\n        <Link to=\"/\">\n                  <button className=\"writeSubmit\" type=\"submit\">\n          Publish\n        </button>\n        </Link>\n      </form>\n    </div>\n  )\n}\n","import React,{useState} from 'react';\nimport { useDispatch } from 'react-redux';\nimport {  useHistory } from 'react-router-dom';\nimport {loginUser} from \"../../JS/Actions/userActions\"\nimport './login.css'\n\n\nconst Login = () => {\n  const dispatch = useDispatch()\n  const history = useHistory()\n    const handleLogin = ()=>{\n      const userLogin  = {email,password} \n      dispatch(loginUser(userLogin))\n      history.push(\"/\")\n      setEmail(\"\")\n      setPassword(\"\")\n    }\n  \n    const [email,setEmail]= useState(\"\");\n    const [password,setPassword]= useState(\"\")\n \n    return (\n      \n        <div className=\"login\">\n          <span className=\"loginTitle\">Register</span>\n          <form className=\"loginForm\" onSubmit={handleLogin}>\n \n  \n          <label>Email address</label>\n          <input  className=\"loginInput\" name=\"email\" type=\"email\" placeholder=\"Enter email\"  value={email} onChange={(e)=>setEmail(e.target.value)}/>\n   \n    <label>Password</label>\n    <input className=\"loginInput\" name=\"password\" type=\"password\" placeholder=\"Password\" value={password} onChange={(e)=>setPassword(e.target.value)} />\n  \n <button className=\"loginButton\" type=\"submit\">\n             Login\n             </button>\n      </form>\n</div>\n    );\n    }\n\nexport default Login","import React,{useState} from 'react';\nimport {useDispatch} from \"react-redux\"\nimport { useHistory } from 'react-router-dom';\nimport {registerUser} from '../../JS/Actions/userActions'\nimport './register.css'\n\nconst Register = () => {\n    const dispatch = useDispatch()  \n    const history = useHistory()\n\n    const [name,setName]=useState(\"\");\n    const [lastName,setLastName]=useState(\"\")\n    const [email,setEmail]= useState(\"\");\n    const [password,setPassword]= useState(\"\")\n    \n    const handleRegister = ()=>{\n      const newUser ={name,lastName,email,password}\n      dispatch(registerUser(newUser))\n     history.push(\"/\")\n      setName(\"\")\n      setLastName(\"\")\n      setEmail(\"\")\n      setPassword(\"\")\n    }\n  \n    return (\n      <div className=\"register\">\n      <span className=\"registerTitle\">Register</span>\n      <form className=\"registerForm\" onSubmit={handleRegister}>\n\n      <label>First Name </label>\n          <input  className=\"registerInput\" name=\"email\" type=\"text\" placeholder=\"Enter first name\"  value={name} onChange={(e)=>setName(e.target.value)}/>\n  \n      <label>Last Name</label>\n          <input  className=\"registerInput\" name=\"email\" type=\"text\" placeholder=\"Enter last name\"  value={lastName} onChange={(e)=>setLastName(e.target.value)}/>\n   \n    <label>Email address</label>\n          <input  className=\"registerInput\" name=\"email\" type=\"email\" placeholder=\"Enter email\"  value={email} onChange={(e)=>setEmail(e.target.value)}/>\n  \n    <label>Password</label>\n    <input className=\"registerInput\" name=\"password\" type=\"password\" placeholder=\"Password\" value={password} onChange={(e)=>setPassword(e.target.value)} />\n  \n <button className=\"registerButton\" type=\"submit\">\n             Login\n             </button>\n      </form>\n</div>\n    );\n}\n\nexport default Register","import { Link } from \"react-router-dom\";\nimport { useSelector,useDispatch } from 'react-redux';\nimport { logoutUser } from '../../JS/Actions/userActions';\n\nimport \"./AppNavBar.css\";\n\nexport default function AppNavBar() {\n\n  const dispatch = useDispatch()\n  const isAuth = useSelector(state => state.authReducer.isAuth)\n  const user = useSelector(state => state.authReducer.user)\n  \n  const handleLogout = () => {\n    dispatch(logoutUser())\n  };\n\n  return (\n    <div className=\"top\">\n      <div className=\"topLeft\">\n        <i className=\"topIcon fab fa-facebook-square\"></i>\n        <i className=\"topIcon fab fa-twitter-square\"></i>\n        <i className=\"topIcon fab fa-pinterest-square\"></i>\n        <i className=\"topIcon fab fa-instagram-square\"></i>\n      </div>\n      <div className=\"topCenter\">\n        <ul className=\"topList\">\n          <li className=\"topListItem\">\n            <Link className=\"link\" to=\"/\">\n              HOME\n            </Link>\n          </li>\n          <li className=\"topListItem\">\n            <Link className=\"link\" to=\"/\">\n              ABOUT\n            </Link>\n          </li>\n          <li className=\"topListItem\">\n            <Link className=\"link\" to=\"/\">\n              CONTACT\n            </Link>\n          </li>\n          <li className=\"topListItem\">\n            <Link className=\"link\" to=\"/write\">\n              WRITE\n            </Link>\n          </li>\n          <li className=\"topListItem\" onClick={handleLogout}>\n            {isAuth && \"LOGOUT\"}\n          </li>\n        </ul>\n      </div>\n      <div className=\"topRight\">\n        {isAuth ? (\n           <>\n           \n           <div>\n           <span style={{marginRight:\"2rem\"}}>\n           <strong>\n           <span style={{marginRight:\"1rem\"}}>\n           Welcome\n           </span>\n            {  user.name}\n           </strong>\n           </span>\n           </div>\n          </>\n        ) : (\n          <ul className=\"topList\">\n            <li className=\"topListItem\">\n              <Link className=\"link\" to=\"/login\">\n                LOGIN\n              </Link>\n            </li>\n            <li className=\"topListItem\">\n              <Link className=\"link\" to=\"/register\">\n                REGISTER\n              </Link>\n            </li>\n          </ul>\n        )}\n        <i className=\"topSearchIcon fas fa-search\"></i>\n      </div>\n    </div>\n  );\n}","import \"./header.css\";\n\nexport default function Header() {\n  return (\n    <div className=\"header\">\n      <div className=\"headerTitles\">\n        <span className=\"headerTitleSm\">Soulayma Bouchiba</span>\n        <span className=\"headerTitleLg\">Blog</span>\n      </div>\n      <img\n        className=\"headerImg\"\n        src=\"https://images.pexels.com/photos/1167355/pexels-photo-1167355.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\"\n        alt=\"\"\n      />\n    </div>\n  );\n}","import \"./post.css\";\nimport { useDispatch } from \"react-redux\";\nimport { getPost } from \"../../JS/Actions/postActions\";\nimport { Link } from \"react-router-dom\";\n\nexport default function Post({ post }) {\n  const dispatch = useDispatch()  \n  return (\n    <div className=\"post\">\n      {post.photo &&  \n      <img className=\"postImg\" src={`/uploads/${post.photo}`} alt={post.title} />\n      }\n      <div className=\"postInfo\">\n      \n        <Link to={`/post/${post._id}`} className=\"link\">\n          <span className=\"postTitle\" onClick={() => dispatch(getPost(post._id))}>\n            {post.title}</span>\n        </Link>\n        <hr />\n        <span className=\"postDate\">\n          {new Date(post.createdAt).toDateString()}\n        </span>\n      </div>\n      <p className=\"postDesc\">{post.desc}</p>\n    </div>\n  );\n}","import Post from \"../post/Post\";\nimport \"./posts.css\";\n\nexport default function Posts({ posts }) {\n  return (\n    <div className=\"posts\">\n      {posts.map((p) => (\n        <Post post={p} />\n      \n      ))}\n    </div>\n  );\n}\n","import { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getPosts } from \"../../JS/Actions/postActions\";\n//import { useLocation } from \"react-router\";\n//import Sidebar from \"../sidebar/Sidebar\";\nimport Header from \"../header/Header\"\nimport Posts from \"../posts/Posts\"\nimport './home.css'\n\nexport default function Home() {\n  const dispatch = useDispatch()\n  const posts = useSelector(state => state.postReducer.posts);\n  \n  useEffect(() => {\n    dispatch(getPosts());\n    //eslint-disable-next-line\n  }, [dispatch]);\n\n  return (\n    <>\n      <Header />\n     \n      <div className=\"home\">\n        <Posts posts={posts} />\n        \n      </div>\n    </>\n  );\n}","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst Dashboard = () => {\r\n const user = useSelector(state => state.authReducer.user)\r\n//  if(!user){\r\n//    return  <h1>spinner...</h1>\r\n//  }\r\n//     return (<div>\r\n//         <h1> {user.name} </h1>\r\n//     </div>\r\nreturn( \r\n    \r\n    <div>\r\n        {!user ?(\r\n            <h1>spinner....</h1>\r\n        ):\r\n        (\r\n        <div>\r\n           <h2> {user.name}</h2>\r\n           <h2> {user.lastName}</h2>\r\n           <h2> {user.email}</h2>\r\n        </div>)}\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Dashboard","import React from 'react'\r\n//import { Route } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\n\r\nconst PrivateRoute = ({ component : Component , ...rest}) => {\r\n\r\nconst isAuth = useSelector((state) => state.authReducer.isAuth)\r\n\r\n if(isAuth===true){\r\n    return <Route component={Component} {...rest}  />\r\n }\r\n return <Redirect to=\"Login\" />\r\n}\r\nexport default PrivateRoute","import { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {  deletePost, updatePost } from \"../../JS/Actions/postActions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport './singlePost.css'\n\n\nexport default function SinglePost({match}) {\n  const post = useSelector(state => state.postReducer.post);\n\n  const id = match.params.id;\n  const dispatch = useDispatch();\n  const history =useHistory();\n\n  const  user  = useSelector(state => state.authReducer.user)\n  const [title, setTitle] = useState(\"\");\n  const [desc, setDesc] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  \n  //if edit\n  const [toggle, setToggle] = useState(false);\n  useEffect(() => {\n  if(toggle){\n    setTitle(post.title)\n   setDesc(post.desc)\n   setName(post.name)\n  }\n   \n  }, [post, toggle]);\n\n  const handleDelete = async () => {\n    dispatch(deletePost(id))\n    history.push(\"/\")\n  };\n\n  \n  const handleUpdate = async () => {\n    dispatch(updatePost(post._id, {title, desc,name}))\n      setToggle(false)\n      history.push(\"/\")\n  };\n  return (\n    <div className=\"singlePost\">\n      <div className=\"singlePostWrapper\">\n        {post.photo && (\n          <img src={`/uploads/${post.photo}`} alt=\"\" className=\"singlePostImg\" />\n        )} \n       <input\n            type=\"text\"\n            value={title}\n            className=\"singlePostTitleInput\"\n            autoFocus\n            onChange={(e) => setTitle(e.target.value)}\n          />\n        \n          <h1 className=\"singlePostTitle\">\n            {title}\n             {post.name === user?.name && ( \n              <div className=\"singlePostEdit\">\n                <i\n                  className=\"singlePostIcon far fa-edit\"\n                  onClick={() => setToggle(true)}\n                ></i>\n                <i\n                  className=\"singlePostIcon far fa-trash-alt\"\n                  onClick={handleDelete}\n                ></i>\n              </div>\n            )} \n          </h1>\n      \n        <div className=\"singlePostInfo\">\n          <span className=\"singlePostAuthor\">\n            Author:\n            <Link to={`/?user=${post.name}`} className=\"link\">\n              <b> {post.name}</b>\n            </Link>\n          </span>\n          <span className=\"singlePostDate\">\n\n            {new Date(post.createdAt).toDateString()}\n          </span>\n          <p className=\"singlePostDesc\">{post.desc}</p>\n        </div>\n        {toggle ? (\n          <textarea\n            className=\"singlePostDescInput\"\n            value={desc}\n            onChange={(e) => setDesc(e.target.value)}\n          />\n        ) : (\n          <p className=\"singlePostDesc\">{desc}</p>\n        )}\n        {toggle && (\n          <button className=\"singlePostButton\" onClick={handleUpdate}>\n            Update\n          </button>\n        )}\n      </div>\n    </div>\n  );\n}","import {Switch,Route} from \"react-router-dom\"\nimport { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { getAuthUser } from \"./JS/Actions/userActions\";\n\nimport './App.css';\n//import Single from \"./Components/single/Single\";\nimport Write from \"./Components/write/Write\";\n//import Settings from \"./Components/settings/Settings\";\nimport Login from \"./Components/Auth/Login\";\nimport Register from \"./Components/Auth/Register\";\nimport AppNavBar from './Components/Route/AppNavBar';\nimport Home from \"./Components/Pages/Home\";\nimport Dashboard from \"./Components/Pages/Dashboard\";\nimport PrivateRoute from \"./Components/Routes/PrivateRoute\"\nimport SinglePost from \"./Components/singlePost/SinglePost\";\nfunction App() {\n  const dispatch = useDispatch()\n  const getUser = () => dispatch(getAuthUser())\n  useEffect(()=>{\n    getUser()\n    // eslint-disable-next-line\n  },[])\n  return (\n    <div >\n     \n    <AppNavBar />\n    <Switch>\n      <Route exact path='/' component={Home} />\n      <PrivateRoute path=\"/dashboard\" component={Dashboard} /> \n      <Route path=\"/register\" component={Register} /> \n      <Route path=\"/login\" component={Login} />\n      <Route path=\"/write\" component={Write} />\n     \n      <Route path=\"/post/:id\" component={SinglePost}/>\n      \n    </Switch>\n    </div>\n  );\n}\nexport default App;","import {LOGIN_USER,USER_LOADING,LOGOUT_USER,REGISTER_USER,GET_AUTH_USER,\n    AUTH_ERRORS}  from \"../constant/Actions-types\"\n  \n    const initialState ={\n        token:localStorage.getItem('token'),\n        user:null,\n        isAuth:false,\n        isLoading:false,\n        msg:null\n    }\n    const authReducer = (state =initialState,{type,payload})=>{\n        switch (type) {\n            case USER_LOADING:\n                return{\n                    ...state,\n                    isLoading:true\n                }\n            case AUTH_ERRORS:    \n            case LOGOUT_USER:\n                localStorage.removeItem('token')\n                return{\n                    ...state,\n                    token:null,\n                    user:null,\n                    isAuth:false,\n                    isLoading:false\n                }    \n            case REGISTER_USER:\n            case LOGIN_USER:\n                localStorage.setItem('token',payload.token)\n                return{\n                    ...state,\n                    isLoading:false,\n                    isAuth:true,\n                    ...payload\n                }\n            case GET_AUTH_USER:\n                return{\n                    ...state,\n                    isLoading:false,\n                    isAuth:true,\n                    ...payload\n                }\n  \n            default:\n                return state\n        }\n    }\n  \n    export default authReducer","import { GET_POSTS_LOAD, GET_POSTS_SUCCESS, GET_POSTS_FAIL, ADD_POST_LOAD, ADD_POST_SUCCESS, ADD_POST_FAIL, GET_POST_LOAD, \r\n    GET_POST_SUCCESS, GET_POST_FAIL, GET_POST_RESET } from \"../constant/post\";\r\n\r\nconst initialState = {\r\n    posts: [],\r\n    loading: false,\r\n    post: {},\r\n    error: null,\r\n}\r\n\r\nconst productReducer = (state= initialState, {type, payload}) => {\r\n    switch (type) {\r\n        case GET_POST_LOAD :\r\n            case GET_POSTS_LOAD:\r\n                case ADD_POST_LOAD:\r\n            return {\r\n                ...state, \r\n                loading: true\r\n            }\r\n        case GET_POST_SUCCESS :\r\n            case ADD_POST_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                post: payload\r\n            }\r\n        case GET_POST_FAIL :\r\n            case GET_POSTS_FAIL :\r\n                case ADD_POST_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: payload\r\n            }\r\n            case GET_POSTS_SUCCESS :\r\n                return {\r\n                    ...state,\r\n                    loading: false,\r\n                    posts: payload\r\n                }\r\n            case GET_POST_RESET:\r\n                return {\r\n                    ...state,\r\n                    loading: false,\r\n                    post: {}\r\n                }\r\n    \r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default productReducer;","import {combineReducers} from  'redux'\r\n\r\nimport authReducer from \"./authReducer\"\r\nimport postReducer from './postReducer'\r\n\r\nconst rootReducer =  combineReducers({\r\n    authReducer,\r\n    postReducer,\r\n   \r\n})\r\n\r\nexport default rootReducer","import {createStore, compose , applyMiddleware} from \"redux\"\r\nimport thunk from \"redux-thunk\"\r\nimport rootReducer from \"../Reducers/index\"\r\n\r\nconst middleware =[thunk]\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    compose(\r\n        applyMiddleware(...middleware),\r\n        window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n    )\r\n)\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {Provider} from \"react-redux\"\nimport {BrowserRouter} from \"react-router-dom\"\nimport store from \"./JS/store/store\"\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <BrowserRouter>\n<Provider store={store}>\n    <App />\n</Provider>\n</BrowserRouter>,\n  document.getElementById('root')\n);"],"sourceRoot":""}